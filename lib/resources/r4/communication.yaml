---
name: Communication
field_name_base_url: http://hl7.org/fhir/r4/communication-definitions.html#Communication
fields:
- name: resourceType
  required: 'Yes'
  cardinality: 1..1
  type: string
  description: The type of the FHIR resource.
  url: https://hl7.org/fhir/r4/Communication-definitions.html#Communication
  note: resourceType must be Communication.
  action: create
  example: |
    {
      "resourceType": "Communication"
    }

- name: status
  required: 'Yes'
  cardinality: 1..1
  type: code
  description: The status of the Communication.
  url: https://hl7.org/fhir/r4/communication-definitions.html#Communication.status
  action: create
  note: All Communications must be in 'completed' status.
  example: |
    {
      "status": "completed"
    }

- name: category
  required: 'yes'
  cardinality: 0..1
  type: CodeableConcept
  description: Codeable definition of the Communication type.
  url: https://hl7.org/fhir/r4/communication-definitions.html#Communication.category
  note: The catgeories 'notification' and 'reminder' are supported.
  example: | 
    {
      category:
        {
          coding: [{
            "system": "http://terminology.hl7.org/CodeSystem/communication-category",
            "code": "notification"
          }]
        }
    }
  action: create
  binding:
    description: The category of the Communication.
    terminology:
      - display: Communication Category
        system: http://terminology.hl7.org/CodeSystem/communication-category
        info_link: http://hl7.org/fhir/R4/valueset-communication-category.html

- name: priority
  required: 'No'
  cardinality: 0..1
  type: code
  description: The priority of the Communication.
  url: https://hl7.org/fhir/r4/communication-definitions.html#Communication.priority
  action: create
  note: Only 'routine' and 'high' priorities are supported. If another priority value is provided, it will be treated as 'routine'.
  example: |
    {
      "priority": "routine"
    }

- name: subject
  required: 'No'
  cardinality: 0..1
  type: Reference (Patient)
  description: The Patient that is the Subject of the Communication
  url: https://hl7.org/fhir/r4/communication-definitions.html#Communication.subject
  action: create
  note: Only Patient is supported as subject.
  example: |
    {
      "subject": {
        "reference": "Patient/9836548"
      }
    }

- name: topic
  required: 'yes'
  cardinality: 0..1
  type: code
  description: The topic of the Communication, similar to the subject field of an email.
  url: https://hl7.org/fhir/r4/communication-definitions.html#Communication.topic
  note: Currently only free-text topics are supported.
  example: |
    {
      "topic" : {
         "text": "Patient Consult Request"
      }
    }
  action: create

- name: encounter
  required: 'No'
  cardinality: 0..1
  type: Reference (Encounter)
  note: Encounter must be supplied with Subject.
  description: The specific Patient Encounter associated to the Communication.
  url: https://hl7.org/fhir/r4/communication-definitions.html#Communication.encounter
  example: |
    {
      "encounter" : {
        "reference" : "Encounter/89363836"
      }
    }
  action: create

- name: recipient
  required: 'Yes'
  cardinality: 1..*
  type: Reference (Practitioner, Group)
  description: The Practitioner or Group that the Communication is intended to reach.
  url: https://hl7.org/fhir/r4/communication-definitions.html#Communication.recipient
  note: At least one recipient needs to be provided.
  example: |
    {
      "recipient": [
        {
          "reference" : "Practitioner/6373634"
        },
        {
          "reference" : "Group/44466678"
        }
      ]
    }
  action: create

- name: sender
  required: 'Yes'
  cardinality: 1..1
  type: Reference (Practitioner)
  description: The entity sending the Communication.
  url: https://hl7.org/fhir/r4/communication-definitions.html#Communication.sender
  note: Sender must be a Practitioner.
  example: |
    {
      "sender": {
        "reference": "Practitioner/631923"
      }
    }
  action: create

- name: payload
  required: 'Yes'
  cardinality: 1..1
  type: BackboneElement
  description: The text of the Communication.
  url: https://hl7.org/fhir/r4/communication-definitions.html#Communication.payload
  note: The content must be supplied as a contentAttachment with contentType and data defined. For contentType, application/xhtml+xml or text/plain are supported, and data should be base64 encoded.
  example: |
    {
      "payload" : [
        {
          "contentAttachment" : {
            "contentType" : "application/xhtml+xml",
            "data" : "&lt;snipped for brevity"
          }
        }
      ]
    }
  action: create

- name: Communication Email-Status Extension
  terminology_name: extension[x].valueCodeableConcept
  required: 'No'
  type: CodeableConcept
  description: The status of the email. May be received, in-progress or completed.
  action: create
  example: |
    {
      "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/email-status",
      "valueCodeableConcept": {
        "coding": [
          {
            "code": "in-progress",
            "system": "http://hl7.org/fhir/task-status"
          }
        ]
      }
    }
  url: https://fhir-ehr.cerner.com/r4/StructureDefinition/email-status?_format=json
  binding:
    description: The status of the email. May be received, in-progress or completed.
    terminology:
    - display: Communication Email Status Extension
      system: http://hl7.org/fhir/task-status
      info_link: https://www.hl7.org/fhir/r4/valueset-task-status.html

- name: Communication ReplyTo Extension
  terminology_name: extension[x].valueReference
  required: 'No'
  type: Reference (Group)
  description: A reference to a Group that the recipient should reply to.
  action: create
  example: |
    {
      "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/reply-to",
      "valueReference": {
        "reference": "Group/123"
      }
    }
  url: https://fhir-ehr.cerner.com/r4/StructureDefinition/reply-to?_format=json